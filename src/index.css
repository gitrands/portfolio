@import "tailwindcss";

@theme {
  --color-border: hsl(var(--border));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-card: hsl(var(--card));

  --animate-float: float 6s ease-in-out infinite;
  --animate-pulse-subtle: pulse-subtle 4s ease-in-out infinite;
  --animate-fade-in: fade-in 0.7s ease-out forwards;
  --animate-fade-in-delay-1: fade-in 0.7s ease-out 0.2s forwards;
  --animate-fade-in-delay-2: fade-in 0.7s ease-out 0.4s forwards;
  --animate-fade-in-delay-3: fade-in 0.7s ease-out 0.6s forwards;
  --animate-fade-in-delay-4: fade-in 0.7s ease-out 0.8s forwards;
  --animate-meteor: meteor 5s linear infinite;
  --animate-kenburns-slow: kenburns 24s ease-in-out infinite alternate;
  --animate-drift-slow: drift 30s ease-in-out infinite alternate;
  --animate-grid-pan: grid-pan 28s linear infinite;
  --animate-slide-in-left: slide-in-left 0.7s ease-out forwards;
  --animate-slide-in-left-delay-1: slide-in-left 0.7s ease-out 0.15s forwards;
  --animate-slide-in-left-delay-2: slide-in-left 0.7s ease-out 0.3s forwards;
  --animate-slide-in-left-delay-3: slide-in-left 0.7s ease-out 0.45s forwards;
  --animate-glow-pulse: glow-pulse 3s ease-in-out infinite;

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  @keyframes pulse-subtle {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes meteor {
    0% {
      transform: rotate(215deg) translateX(0);
      opacity: 1;
    }
    70% {
      opacity: 1;
    }
    100% {
      transform: rotate(215deg) translateX(-500px);
      opacity: 0;
    }
  }
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-24px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  @keyframes gradient-move {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
  @keyframes typing {
    from { width: 0; }
    to { width: var(--tw-type-width, 8ch); }
  }
  @keyframes caret {
    0%, 100% {
      border-color: transparent;
    }
    50% {
      border-color: currentColor;
    }
  }
  @keyframes glow-pulse {
    0%, 100% {
      text-shadow: 0 0 12px rgba(139, 92, 246, 0.35);
    }
    50% {
      text-shadow: 0 0 18px rgba(139, 92, 246, 0.6);
    }
  }
  /* Fixed-step typing variants */
  @keyframes typing-7 {
    from { width: 0; }
    to { width: 7ch; }
  }

  @keyframes kenburns {
    0% { transform: scale(1) translate(0, 0); }
    100% { transform: scale(1.1) translate(-2%, -2%); }
  }

  @keyframes drift {
    0% { transform: translateY(0px); }
    100% { transform: translateY(-10px); }
  }

  @keyframes grid-pan {
    0% { background-position: 0 0, 0 0; }
    100% { background-position: 200px 0, 0 200px; }
  }
}

@layer base {
  :root {
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;

    --primary: 250 47% 60%;
    --primary-foreground: 210 40% 98%;

    --border: 214 32% 91%;
  }

  /* Prevent accidental horizontal scrollbars; stabilize single scrollbar */
  html {
    overflow-x: hidden;
    overscroll-behavior-y: none;
  }
  body {
    overflow-x: hidden;
    scrollbar-gutter: stable both-edges;
  }

  .dark {
    --background: 222 47% 4%;
    --foreground: 213 31% 91%;

    --card: 222 47% 8%;

    --primary: 250 65% 65%;
    --primary-foreground: 213 31% 91%;

    --border: 217 33% 20%;
  }

  * {
    @apply border-border;
  }

  html {
    @apply scroll-smooth;
    scroll-behavior: smooth;
  }

  /* Make global scroll feel more fluid and avoid nested scroll containers */
  :root { scroll-behavior: smooth; }
  body { overscroll-behavior-y: contain; }

  body {
    @apply bg-background text-foreground transition-colors duration-300;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Ensure full height for neon hero canvas */
  html, body, #__next, #root { height: 100%; }
  /* Keep body background theme-driven for proper light mode */

  /* Ensure anchored sections donâ€™t hide under fixed navbar */
  section { scroll-margin-top: 80px; }
  @media (min-width: 768px) {
    section { scroll-margin-top: 96px; }
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;

  @media (width >= 640px) {
    max-width: 640px;
  }
  @media (width >= 768px) {
    max-width: 768px;
  }
  @media (width >= 1024px) {
    max-width: 1024px;
  }
  @media (width >= 1280px) {
    max-width: 1280px;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@utility text-glow {
  @apply relative;
  text-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
}

@utility card-hover {
  @apply transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg;
}

@utility gradient-border {
  @apply relative rounded-md;
  background: linear-gradient(to right, hsl(var(--card)), hsl(var(--card)));
  background-clip: padding-box;
  border: 1px solid transparent;
}

/* Dynamic viewport unit utility for hero height */
@utility min-h-hero {
  /* Use JS-provided --vh when available for most accurate viewport height */
  min-height: calc(var(--vh, 1svh) * 100);
}

/* Vector Animations (lightweight, GPU-friendly) */
@layer utilities {
  @keyframes dash-loop {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: -1000; }
  }
  @keyframes rotate-slower {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  @keyframes wave-shift {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  @keyframes pan-slow {
    0% { transform: translate3d(0,0,0); }
    100% { transform: translate3d(-40px, -20px, 0); }
  }

  .vec-anim { animation-play-state: paused; }
  .anim-pan { animation: pan-slow 30s ease-in-out infinite alternate; }
  .anim-rotate { animation: rotate-slower 60s linear infinite; }
  .anim-wave { animation: wave-shift 24s linear infinite; }
  /* Play animations when section becomes visible via scrollReveal */
  [data-reveal].is-visible .vec-anim { animation-play-state: running; }

  .vec-stroke-primary { stroke: hsl(var(--primary)); }
  .vec-stroke-accent { stroke: #60a5fa; }
  .vec-stroke-soft { stroke: rgba(255,255,255,0.35); }
  .vec-stroke-muted { stroke: rgba(0,0,0,0.25); }

  /* Prefer reduced motion: freeze vector animations */
  @media (prefers-reduced-motion: reduce) {
    .vec-anim { animation: none !important; }
  }
  /* Pause all vector animations when page is hidden */
  body.vec-paused .vec-anim { animation-play-state: paused !important; }

  /* Baseline vector rendering hints */
  .vec-svg line, .vec-svg path, .vec-svg circle, .vec-svg polyline {
    shape-rendering: optimizeSpeed;
    vector-effect: non-scaling-stroke;
  }

  /* Mobile optimizations */
  @media (max-width: 640px) {
    .vec-svg { opacity: 0.8; }
    .vec-glow { filter: drop-shadow(0 0 12px rgba(99,102,241,0.25)) drop-shadow(0 0 18px rgba(168,85,247,0.18)); }
    .vec-thin * { stroke-width: 1px !important; }
    .anim-pan { animation-duration: 36s !important; }
    .anim-rotate { animation-duration: 70s !important; }
    .anim-wave { animation-duration: 24s !important; }
  }
  @media (max-width: 420px) {
    .vec-dense { display: none; }
    .vec-thin * { stroke-width: 0.85px !important; }
  }
}
@layer base {
  @supports (height: 100dvh) {
    .min-h-hero { min-height: calc(var(--vh, 1dvh) * 100); }
  }
}

/* Animated gradient text for name */
@utility gradient-text-animate {
  @apply bg-clip-text text-transparent;
  /* Bright blue sweep */
  background-image: linear-gradient(
    90deg,
    #22d3ee 0%,   /* cyan-400 */
    #3b82f6 25%,  /* blue-500 */
    #2563eb 50%,  /* blue-600 */
    #1d4ed8 75%,  /* blue-700 */
    #22d3ee 100%
  );
  background-size: 300% 100%;
  animation: gradient-move 6s ease-in-out infinite;
}

/* Slide-in utilities with staggered delays */
@utility animate-slide-in-left {
  animation: var(--animate-slide-in-left);
}
@utility animate-slide-in-left-delay-1 {
  animation: var(--animate-slide-in-left-delay-1);
}
@utility animate-slide-in-left-delay-2 {
  animation: var(--animate-slide-in-left-delay-2);
}
@utility animate-slide-in-left-delay-3 {
  animation: var(--animate-slide-in-left-delay-3);
}

/* Typewriter effect utility (set --tw-type-ch and --tw-type-dur inline) */
@utility typewriter {
  @apply inline-block align-baseline overflow-hidden whitespace-nowrap;
  border-right: 2px solid currentColor;
  animation:
    typing var(--tw-type-dur, 1.2s) steps(8, end) forwards,
    caret 0.9s step-end infinite;
}

/* Subtle glow pulse for highlight text */
@utility glow-pulse {
  animation: var(--animate-glow-pulse);
}

/* Concrete typewriter utility for 7 characters */
@utility typewriter-7 {
  @apply inline-block align-baseline overflow-hidden whitespace-nowrap;
  border-right: 2px solid currentColor;
  animation:
    typing-7 var(--tw-type-dur, 1.1s) steps(7, end) forwards,
    caret 0.9s step-end infinite;
}

@utility cosmic-button {
  @apply px-6 py-2 rounded-full bg-primary text-primary-foreground font-medium 
         transition-all duration-300 hover:shadow-[0_0_10px_rgba(139,92,246,0.5)]
         hover:scale-105 active:scale-95;
}

/* Scroll Reveal - luxurious motion */
@layer utilities {
  /* Base reveal hook */
  [data-reveal] {
    will-change: transform, opacity, filter;
    transform-style: preserve-3d;
    transition:
      transform var(--sr-duration, 900ms) var(--sr-ease, cubic-bezier(0.22, 1, 0.36, 1)),
      opacity var(--sr-duration, 900ms) var(--sr-ease, cubic-bezier(0.22, 1, 0.36, 1)),
      filter var(--sr-duration, 900ms) var(--sr-ease, cubic-bezier(0.22, 1, 0.36, 1));
    transition-delay: var(--sr-delay, 0s);
  }

  /* Hidden state before reveal */
  [data-reveal]:not(.is-visible) {
    opacity: 0;
    filter: blur(8px);
  }

  /* Visible state */
  [data-reveal].is-visible {
    opacity: 1;
    filter: blur(0);
    transform: none;
  }

  /* Variants (initial transforms) */
  [data-reveal-type="fade"]:not(.is-visible),
  [data-reveal]:not([data-reveal-type]):not(.is-visible) {
    /* default -> gentle fade-up */
    transform: translate3d(0, 24px, 0) scale(0.995);
  }

  [data-reveal-type="fade-up"]:not(.is-visible) {
    transform: translate3d(0, 28px, 0) scale(0.995);
  }
  [data-reveal-type="fade-down"]:not(.is-visible) {
    transform: translate3d(0, -28px, 0) scale(0.995);
  }
  [data-reveal-type="fade-left"]:not(.is-visible) {
    transform: translate3d(-28px, 0, 0) scale(0.995);
  }
  [data-reveal-type="fade-right"]:not(.is-visible) {
    transform: translate3d(28px, 0, 0) scale(0.995);
  }
  [data-reveal-type="scale"]:not(.is-visible) {
    transform: scale(0.94);
  }
  [data-reveal-type="blur"]:not(.is-visible) {
    /* more blur-heavy start */
    filter: blur(12px) saturate(0.9);
    transform: translate3d(0, 18px, 0) scale(0.98);
  }

  /* Mobile-friendly distances/durations */
  @media (max-width: 640px) {
    [data-reveal]:not(.is-visible) {
      filter: blur(6px);
    }
    [data-reveal-type="fade"]:not(.is-visible),
    [data-reveal]:not([data-reveal-type]):not(.is-visible) {
      transform: translate3d(0, 16px, 0) scale(0.997);
    }
    [data-reveal-type="fade-up"]:not(.is-visible) {
      transform: translate3d(0, 18px, 0) scale(0.997);
    }
    [data-reveal-type="fade-down"]:not(.is-visible) {
      transform: translate3d(0, -18px, 0) scale(0.997);
    }
    [data-reveal-type="fade-left"]:not(.is-visible) {
      transform: translate3d(-18px, 0, 0) scale(0.997);
    }
    [data-reveal-type="fade-right"]:not(.is-visible) {
      transform: translate3d(18px, 0, 0) scale(0.997);
    }
    /* shorter default duration on mobile unless overridden */
    [data-reveal] { --sr-duration: 800ms; }
  }

  /* Reduced motion: reveal instantly without movement */
  @media (prefers-reduced-motion: reduce) {
    [data-reveal] {
      transition: none !important;
    }
    [data-reveal]:not(.is-visible) {
      opacity: 1 !important;
      filter: none !important;
      transform: none !important;
    }
  }
}

@utility star {
  @apply absolute rounded-full bg-white;
  box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.4);
}

@utility meteor {
  @apply absolute bg-linear-to-r from-white via-white to-transparent rounded-full;
  box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.3);
}

#root {
  max-width: 100%;
  margin: 0 auto;
  padding: 0;
  text-align: center;
}
